export GATEWAY_IP_1=localhost
export GATEWAY_IP_2=localhost

### Gateway ###
sudo java -agentpath:/usr/local/YourKit-JavaProfiler-2018.04/bin/linux-x86-64/libyjpagent.so -Dlog4j.configurationFile=log4j2.xml -jar gw.jar

### Service ###
sudo java -agentpath:/usr/local/YourKit-JavaProfiler-2018.04/bin/linux-x86-64/libyjpagent.so -Dlog4j.configurationFile=log4j2.xml -Dio.scalecube.gateway.examples.seeds=$GATEWAY_IP_1:4801,$GATEWAY_IP_2:4801 -jar examples.jar

### Tests ###

## Request One ##
sudo java -agentpath:/usr/local/YourKit-JavaProfiler-2018.04/bin/linux-x86-64/libyjpagent.so -cp scenarios.jar  io.scalecube.gateway.benchmarks.rsocket.remote.RemoteRequestOneBenchmark gatewayAddress=$GATEWAY_IP:9090 injectors=1250 messageRate=12500 executionTaskDurationInSec=300 rampUpDurationInSec=150

## Request Stream ##
sudo java -agentpath:/usr/local/YourKit-JavaProfiler-2018.04/bin/linux-x86-64/libyjpagent.so -cp scenarios.jar  io.scalecube.gateway.benchmarks.rsocket.remote.RemoteInfiniteStreamBenchmark gatewayAddress=$GATEWAY_IP_1:9090 executionTaskDurationInSec=300 rampUpDurationInSec=10 injectors=8
sudo java -agentpath:/usr/local/YourKit-JavaProfiler-2018.04/bin/linux-x86-64/libyjpagent.so -cp scenarios.jar  io.scalecube.gateway.benchmarks.rsocket.remote.RemoteInfiniteStreamBenchmark gatewayAddress=$GATEWAY_IP_2:9090 executionTaskDurationInSec=300 rampUpDurationInSec=10 injectors=8
